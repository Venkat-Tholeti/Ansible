---
# NAME OF THE INVENTORY FILE SHOULD BE MANDATORILY END WITH *.aws_ec2.yml/yaml
plugin: amazon.aws.aws_ec2
regions:
- us-east-1
keyed_groups: # TO ASSIGN GROUP NAME TO THE INVENTORY
- key: tags.Name # TO GET THIS NAME EXAMPLE:-dynamic_frontend, we have to give as below.
  prefix: "dynamic"
  separator: "_"

filters:
  tag:Name: frontend
  instance-state-name : running

hostnames:
  # You can also specify a list in order of precedence for hostname variables.
  - private-ip-address

compose:
  # This sets the `ansible_host` variable to connect with the private IP address without changing the hostname.
  ansible_host: private_ip_address

  # COMMANDS
  # ansible-inventory -i DynamicInventory.aws_ec2.yml --graph 